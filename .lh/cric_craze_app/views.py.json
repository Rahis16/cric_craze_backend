{
    "sourceFile": "cric_craze_app/views.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1762949447832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762949462446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,12 +3,15 @@\n from rest_framework.decorators import api_view\r\n from rest_framework.response import Response\r\n from .models import CrouselData, LiveStream\r\n from .serializers import CrouselDataSerializer, LiveStreamSerializer\r\n+from rest_framework.response import Response\r\n+from rest_framework import status\r\n+from .models import AppVersion\r\n+from .serializers import AppVersionSerializer\r\n \r\n \r\n \r\n-\r\n # Create your views here.\r\n def home(request):\r\n     return HttpResponse(\"<h1>Cric Craze Nepal</h1>\")\r\n \r\n"
                },
                {
                    "date": 1762949472583,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,42 @@\n+from django.shortcuts import render\r\n+from django.http import HttpResponse\r\n+from rest_framework.decorators import api_view\r\n+from rest_framework.response import Response\r\n+from .models import CrouselData, LiveStream\r\n+from .serializers import CrouselDataSerializer, LiveStreamSerializer\r\n+from rest_framework import status\r\n+from .models import \r\n+from .serializers import AppVersionSerializer\r\n+\r\n+\r\n+\r\n+# Create your views here.\r\n+def home(request):\r\n+    return HttpResponse(\"<h1>Cric Craze Nepal</h1>\")\r\n+\r\n+\r\n+@api_view(['GET'])\r\n+def live_streams(request):\r\n+    streams = LiveStream.objects.all()\r\n+    stream_serializer = LiveStreamSerializer(streams, many=True, context={'request': request})\r\n+    return Response(stream_serializer.data)\r\n+\r\n+\r\n+@api_view(['GET'])\r\n+def crousel_data(request):\r\n+    crousels = CrouselData.objects.all().order_by('order')\r\n+    crouselserializer = CrouselDataSerializer(crousels, many=True, context={'request': request})\r\n+    return Response(crouselserializer.data)\r\n+\r\n+\r\n+class LatestAppVersionView(APIView):\r\n+    \"\"\"\r\n+    GET /api/latest-app-version/\r\n+    Returns the latest app version info.\r\n+    \"\"\"\r\n+    def get(self, request):\r\n+        latest_version = AppVersion.objects.order_by('-version_code').first()\r\n+        if not latest_version:\r\n+            return Response({\"detail\": \"No version found.\"}, status=status.HTTP_404_NOT_FOUND)\r\n+        serializer = AppVersionSerializer(latest_version)\r\n+        return Response(serializer.data, status=status.HTTP_200_OK)\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762949479387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,15 @@\n from django.shortcuts import render\r\n from django.http import HttpResponse\r\n from rest_framework.decorators import api_view\r\n from rest_framework.response import Response\r\n-from .models import CrouselData, LiveStream\r\n+from .models import CrouselData, LiveStream, AppVersion\r\n from .serializers import CrouselDataSerializer, LiveStreamSerializer\r\n from rest_framework import status\r\n from .models import \r\n-from .serializers import AppVersionSerializer\r\n+from .serializers import \r\n \r\n \r\n-\r\n # Create your views here.\r\n def home(request):\r\n     return HttpResponse(\"<h1>Cric Craze Nepal</h1>\")\r\n \r\n@@ -38,48 +37,5 @@\n         latest_version = AppVersion.objects.order_by('-version_code').first()\r\n         if not latest_version:\r\n             return Response({\"detail\": \"No version found.\"}, status=status.HTTP_404_NOT_FOUND)\r\n         serializer = AppVersionSerializer(latest_version)\r\n-        return Response(serializer.data, status=status.HTTP_200_OK)\n-from django.shortcuts import render\r\n-from django.http import HttpResponse\r\n-from rest_framework.decorators import api_view\r\n-from rest_framework.response import Response\r\n-from .models import CrouselData, LiveStream\r\n-from .serializers import CrouselDataSerializer, LiveStreamSerializer\r\n-from rest_framework.response import Response\r\n-from rest_framework import status\r\n-from .models import AppVersion\r\n-from .serializers import AppVersionSerializer\r\n-\r\n-\r\n-\r\n-# Create your views here.\r\n-def home(request):\r\n-    return HttpResponse(\"<h1>Cric Craze Nepal</h1>\")\r\n-\r\n-\r\n-@api_view(['GET'])\r\n-def live_streams(request):\r\n-    streams = LiveStream.objects.all()\r\n-    stream_serializer = LiveStreamSerializer(streams, many=True, context={'request': request})\r\n-    return Response(stream_serializer.data)\r\n-\r\n-\r\n-@api_view(['GET'])\r\n-def crousel_data(request):\r\n-    crousels = CrouselData.objects.all().order_by('order')\r\n-    crouselserializer = CrouselDataSerializer(crousels, many=True, context={'request': request})\r\n-    return Response(crouselserializer.data)\r\n-\r\n-\r\n-class LatestAppVersionView(APIView):\r\n-    \"\"\"\r\n-    GET /api/latest-app-version/\r\n-    Returns the latest app version info.\r\n-    \"\"\"\r\n-    def get(self, request):\r\n-        latest_version = AppVersion.objects.order_by('-version_code').first()\r\n-        if not latest_version:\r\n-            return Response({\"detail\": \"No version found.\"}, status=status.HTTP_404_NOT_FOUND)\r\n-        serializer = AppVersionSerializer(latest_version)\r\n         return Response(serializer.data, status=status.HTTP_200_OK)\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762949491071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,14 +2,14 @@\n from django.http import HttpResponse\r\n from rest_framework.decorators import api_view\r\n from rest_framework.response import Response\r\n from .models import CrouselData, LiveStream, AppVersion\r\n-from .serializers import CrouselDataSerializer, LiveStreamSerializer\r\n+from .serializers import CrouselDataSerializer, LiveStreamSerializer, AppVersionSerializer\r\n+\r\n from rest_framework import status\r\n-from .models import \r\n-from .serializers import \r\n \r\n \r\n+\r\n # Create your views here.\r\n def home(request):\r\n     return HttpResponse(\"<h1>Cric Craze Nepal</h1>\")\r\n \r\n"
                },
                {
                    "date": 1762949508017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,13 +3,12 @@\n from rest_framework.decorators import api_view\r\n from rest_framework.response import Response\r\n from .models import CrouselData, LiveStream, AppVersion\r\n from .serializers import CrouselDataSerializer, LiveStreamSerializer, AppVersionSerializer\r\n-\r\n from rest_framework import status\r\n+from rest_framework.views import APIView\r\n \r\n \r\n-\r\n # Create your views here.\r\n def home(request):\r\n     return HttpResponse(\"<h1>Cric Craze Nepal</h1>\")\r\n \r\n"
                },
                {
                    "date": 1762952124793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,6 +35,6 @@\n     def get(self, request):\r\n         latest_version = AppVersion.objects.order_by('-version_code').first()\r\n         if not latest_version:\r\n             return Response({\"detail\": \"No version found.\"}, status=status.HTTP_404_NOT_FOUND)\r\n-        serializer = AppVersionSerializer(latest_version)\r\n+        serializer = AppVersionSerializer(latest_version, context={'request': request})\r\n         return Response(serializer.data, status=status.HTTP_200_OK)\n\\ No newline at end of file\n"
                }
            ],
            "date": 1762949447832,
            "name": "Commit-0",
            "content": "from django.shortcuts import render\r\nfrom django.http import HttpResponse\r\nfrom rest_framework.decorators import api_view\r\nfrom rest_framework.response import Response\r\nfrom .models import CrouselData, LiveStream\r\nfrom .serializers import CrouselDataSerializer, LiveStreamSerializer\r\n\r\n\r\n\r\n\r\n# Create your views here.\r\ndef home(request):\r\n    return HttpResponse(\"<h1>Cric Craze Nepal</h1>\")\r\n\r\n\r\n@api_view(['GET'])\r\ndef live_streams(request):\r\n    streams = LiveStream.objects.all()\r\n    stream_serializer = LiveStreamSerializer(streams, many=True, context={'request': request})\r\n    return Response(stream_serializer.data)\r\n\r\n\r\n@api_view(['GET'])\r\ndef crousel_data(request):\r\n    crousels = CrouselData.objects.all().order_by('order')\r\n    crouselserializer = CrouselDataSerializer(crousels, many=True, context={'request': request})\r\n    return Response(crouselserializer.data)\r\n\r\n\r\nclass LatestAppVersionView(APIView):\r\n    \"\"\"\r\n    GET /api/latest-app-version/\r\n    Returns the latest app version info.\r\n    \"\"\"\r\n    def get(self, request):\r\n        latest_version = AppVersion.objects.order_by('-version_code').first()\r\n        if not latest_version:\r\n            return Response({\"detail\": \"No version found.\"}, status=status.HTTP_404_NOT_FOUND)\r\n        serializer = AppVersionSerializer(latest_version)\r\n        return Response(serializer.data, status=status.HTTP_200_OK)"
        }
    ]
}